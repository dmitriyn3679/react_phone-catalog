(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(42).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(22),s=c.n(a),n=c(6),r=c(12),i=(c(42),c(3)),o=(c(43),c(44),c(0)),l=function(){return Object(o.jsx)(n.b,{to:"/",className:"logo"})},d=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"footer__content",children:[Object(o.jsx)(l,{}),Object(o.jsx)("nav",{className:"footer__nav",children:Object(o.jsxs)("ul",{className:"footer__list",children:[Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)("a",{href:"/github",className:"footer__link",children:"Github"})}),Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)(n.b,{to:"/contacts",className:"footer__link",children:"Contacts"})}),Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)(n.b,{to:"/rights",className:"footer__link",children:"Rights"})})]})}),Object(o.jsxs)("div",{className:"top",children:[Object(o.jsx)("span",{className:"top__title",children:"Back to top"}),Object(o.jsx)("button",{type:"button",className:"top__button","aria-label":"top-button"})]})]})})})},u=c(24),j=c.n(u),b=c(1),h=(c(47),function(){var e=Object(i.l)();return Object(o.jsx)("button",{type:"button",className:"back","data-cy":"backButton",onClick:function(){e(-1)},children:"Back"})}),p=(c(48),c(11)),O=c(7),x=JSON.parse(localStorage.getItem("cart")||"[]"),m=function(e){return{type:"cart/ADD",payload:e}},_=function(e){return{type:"cart/REMOVE",payload:e}},f=function(e){return{type:"cart/INCREASE",payload:e}},v=function(e){return{type:"cart/DECREASE",payload:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cart/ADD":return localStorage.setItem("cart",JSON.stringify([].concat(Object(O.a)(e),[t.payload]))),[].concat(Object(O.a)(e),[t.payload]);case"cart/REMOVE":return localStorage.setItem("cart",JSON.stringify(Object(O.a)(e.filter((function(e){return e.id!==t.payload.id}))))),Object(O.a)(e.filter((function(e){return e.id!==t.payload.id})));case"cart/INCREASE":var c=Object(O.a)(e.map((function(e){return e.product.id===t.payload.id?Object(p.a)(Object(p.a)({},e),{},{quantity:e.quantity+1}):Object(p.a)({},e)})));return localStorage.setItem("cart",JSON.stringify(c)),c;case"cart/DECREASE":if(t.payload.quantity>1){var a=Object(O.a)(e.map((function(e){return e.product.id===t.payload.id?Object(p.a)(Object(p.a)({},e),{},{quantity:e.quantity+1}):Object(p.a)({},e)})));return localStorage.setItem("cart",JSON.stringify(a)),a}return e;default:return e}},N=function(e){if(0===e.discount)return{currentPrice:e.price,fullPrice:e.price};var t=e.price*e.discount/100;return{currentPrice:e.price-t,fullPrice:e.price}},y=function(e){var t=e.cartItem,c=t.quantity,a=t.product,s=Object(r.b)(),n=N(a).currentPrice;return Object(o.jsxs)("div",{className:"cart-item",children:[Object(o.jsxs)("div",{className:"cart-item__product",children:[Object(o.jsx)("button",{type:"button","aria-label":"delete-item",className:"cart-item__delete","data-cy":"cartDeleteButton",onClick:function(){s(_(t))}}),Object(o.jsx)("img",{src:t.product.imageUrl,alt:"cart-item",className:"cart-item__img"}),Object(o.jsx)("h4",{className:"cart-item__title",children:a.name})]}),Object(o.jsxs)("div",{className:"cart-item__quantity-and-price","data-cy":"productQauntity",children:[Object(o.jsxs)("div",{className:"cart-item__quantity-container",children:[Object(o.jsx)("button",{type:"button","aria-label":"decrement-products-in-cart",className:"cart-item__button cart-item__minus",onClick:function(){s(v(t))}}),Object(o.jsx)("span",{"data-cy":"productQuantity",className:"cart-item__quantity",children:c}),Object(o.jsx)("button",{type:"button","aria-label":"increment-products-in-cart",className:"cart-item__button cart-item__plus",onClick:function(){s(f(t))}})]}),Object(o.jsx)("span",{className:"cart-item__price",children:"$".concat(n)})]})]})},w=(c(49),r.c),k=(c(50),function(e){var t=e.children;return Object(o.jsx)("p",{className:"not-found",children:t})}),S=function(){var e=w((function(e){return e.cart})),t=Object(b.useRef)(null);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"cart",children:[Object(o.jsx)("div",{className:"cart__back",children:Object(o.jsx)(h,{})}),Object(o.jsx)("h1",{className:"cart__title",children:"Cart"}),0===e.length?Object(o.jsx)(k,{children:"Your cart is empty"}):Object(o.jsxs)("div",{className:"cart__container",children:[Object(o.jsx)("div",{className:"cart__items",children:e.map((function(e){return Object(o.jsx)(y,{cartItem:e},e.id)}))}),Object(o.jsxs)("div",{className:"cart__total-container",children:[Object(o.jsxs)("div",{className:"cart__total",children:[Object(o.jsx)("h1",{className:"cart__total-price",children:"$".concat(e.reduce((function(e,t){return e+N(t.product).currentPrice*t.quantity}),0))}),Object(o.jsx)("span",{className:"cart__items-count",children:"Total for ".concat(e.length," items")}),Object(o.jsx)("button",{type:"button",className:"cart__checkout",onClick:function(){t.current&&(t.current.classList.remove("hidden"),setTimeout((function(){t.current&&t.current.classList.add("hidden")}),3e3))},children:"Checkout"})]}),Object(o.jsx)("h3",{ref:t,className:"cart__checkout-message hidden",children:"We are sorry, but this feature is not implemented yet"})]})]})]})})},C=function(){return Object(o.jsx)(S,{})},E=c(8),P=c(4),A=c(5),D=c.n(A),F=c(10),I=c.n(F),T=(c(51),r.b),q=function(e){var t=e.width,c=e.height,a=e.product,s=T(),n=w((function(e){return e.cart})).some((function(e){return e.id===a.id})),r={width:t,height:c};return Object(o.jsx)("button",{type:"button",className:I()("to-card-button",{"to-card-button--added":n}),style:r,onClick:n?function(){var e={id:a.id,quantity:1,product:a};s(_(e))}:function(){var e={id:a.id,quantity:1,product:a};s(m(e))},children:n?"Added to cart":"Add to cart"})},R=(c(52),JSON.parse(localStorage.getItem("favorites")||"[]")),M=function(e){return{type:"favorites/ADD",payload:e}},L=function(e){return{type:"favorites/REMOVE",payload:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"favorites/ADD":var c=[].concat(Object(O.a)(e),[t.payload]);return localStorage.setItem("favorites",JSON.stringify(c)),c;case"favorites/REMOVE":var a=Object(O.a)(e.filter((function(e){return e.id!==t.payload.id})));return localStorage.setItem("favorites",JSON.stringify(a)),a;default:return e}},B=function(e){var t=e.width,c=e.height,a=e.product,s=T(),n=w((function(e){return e.favorites})).some((function(e){return e.id===a.id})),r={width:t,height:c};return Object(o.jsx)("button",{type:"button","data-cy":"addToFavorite",className:I()("to-favorites-button",{"to-favorites-button--active":n}),"aria-label":"add-to-favorites",style:r,onClick:n?function(){s(L(a))}:function(){s(M(a))}})},J=(c(53),function(e){var t=e.product,c=t.id,a=t.imageUrl,s=t.name,r=t.type,i=t.screen,l=t.capacity,d=t.ram,u=Object(b.useMemo)((function(){switch(r){case"phone":return"phones";case"tablet":return"tablets";default:return"accessories"}}),[r]),j=N(t),h=j.currentPrice,p=j.fullPrice;return Object(o.jsxs)("div",{className:"product","data-cy":"cardsContainer",children:[Object(o.jsx)("img",{src:a,alt:"product-img",className:"product__img"}),Object(o.jsxs)("div",{className:"product__header",children:[Object(o.jsx)(n.b,{to:"/".concat(u,"/").concat(c),className:"product__title",children:s}),Object(o.jsx)("div",{className:"product__price",children:h!==p?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"product__price-current",children:"$".concat(h)}),Object(o.jsx)("span",{className:"product__price-full",children:"$".concat(p)})]}):Object(o.jsx)("span",{className:"product__price-current",children:"$".concat(h)})})]}),Object(o.jsxs)("div",{className:"product__details",children:[Object(o.jsxs)("div",{className:"product__info",children:[Object(o.jsx)("span",{className:"product__info-title",children:"Screen"}),Object(o.jsx)("span",{className:"product__info-description",children:i})]}),Object(o.jsxs)("div",{className:"product__info",children:[Object(o.jsx)("span",{className:"product__info-title",children:"Capacity"}),Object(o.jsx)("span",{className:"product__info-description",children:l})]}),Object(o.jsxs)("div",{className:"product__info",children:[Object(o.jsx)("span",{className:"product__info-title",children:"RAM"}),Object(o.jsx)("span",{className:"product__info-description",children:d})]})]}),Object(o.jsxs)("div",{className:"product__buttons",children:[Object(o.jsx)(q,{width:"176px",height:"40px",product:t}),Object(o.jsx)(B,{width:"40px",height:"40px",product:t})]})]})}),G=(c(54),function(e){var t=e.title;return Object(o.jsx)("h1",{className:"title",children:t})}),V=c(25),$=function(){return Object(o.jsxs)(V.a,{speed:2,width:1136,height:41,viewBox:"0 0 1136 41",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(o.jsx)("rect",{x:"5",y:"0",rx:"5",ry:"5",width:"168",height:"41"}),Object(o.jsx)("rect",{x:"1056",y:"0",rx:"5",ry:"5",width:"32",height:"32"}),Object(o.jsx)("rect",{x:"1104",y:"0",rx:"5",ry:"5",width:"32",height:"32"})]})},U=function(){return Object(o.jsx)("div",{className:"product",children:Object(o.jsxs)(V.a,{speed:2,width:224,height:451,viewBox:"0 0 208 451",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(o.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"208",height:"208"}),Object(o.jsx)("rect",{x:"0",y:"232",rx:"0",ry:"0",width:"224",height:"42"}),Object(o.jsx)("rect",{x:"0",y:"280",rx:"0",ry:"0",width:"108",height:"30"}),Object(o.jsx)("rect",{x:"0",y:"318",rx:"0",ry:"0",width:"224",height:"1"}),Object(o.jsx)("rect",{x:"0",y:"334",rx:"0",ry:"0",width:"43",height:"15"}),Object(o.jsx)("rect",{x:"167",y:"334",rx:"0",ry:"0",width:"57",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"357",rx:"0",ry:"0",width:"57",height:"15"}),Object(o.jsx)("rect",{x:"179",y:"357",rx:"0",ry:"0",width:"34",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"380",rx:"0",ry:"0",width:"28",height:"15"}),Object(o.jsx)("rect",{x:"179",y:"380",rx:"0",ry:"0",width:"27",height:"15"}),Object(o.jsx)("rect",{x:"0",y:"411",rx:"0",ry:"0",width:"155",height:"40"}),Object(o.jsx)("rect",{x:"165",y:"411",rx:"0",ry:"0",width:"40",height:"40"})]})})},z=c.p+"static/media/arrow-right.4756c064.svg",H=c.p+"static/media/arrow-right-disabled.e028d388.svg",X=(c(55),function(e){var t=e.width,c=e.height,a=e.direction,s=e.action,n=e.isDisabled,r=void 0!==n&&n,i={display:"block",width:t,height:c,cursor:"pointer",transform:"prev"===a?"scaleX(-1)":""},l={backgroundImage:"url(".concat(r?H:z,")")};return Object(o.jsx)("button",{type:"button",className:"slider-button","aria-label":"slider-button",style:i,onClick:s,disabled:r,children:Object(o.jsx)("span",{style:l,className:"slider-button__icon\n        ".concat("prev"===a?"slider-button__icon--prev":"slider-button__icon--next")})})}),Y=(c(56),function(e){var t=e.title,c=e.products,a=e.isLoaded,s=Object(b.useState)(0),n=Object(P.a)(s,2),r=n[0],i=n[1],l={productsCount:c.length,productWithGapWidth:288,visibleProducts:4},d={transform:"translateX(".concat(r,"px)"),transition:"transform 500ms"};return Object(o.jsxs)("div",{className:"slider",children:[Object(o.jsx)("div",{className:"slider__header",children:a?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(G,{title:t}),Object(o.jsxs)("div",{className:"slider__buttons",children:[Object(o.jsx)(X,{width:"32px",height:"32px",direction:"prev",action:function(){i((function(e){return e+l.productWithGapWidth}))},isDisabled:0===r}),Object(o.jsx)(X,{width:"32px",height:"32px",direction:"next",action:function(){i((function(e){return e-l.productWithGapWidth}))},isDisabled:(l.productsCount-l.visibleProducts)*l.productWithGapWidth<=Math.abs(r)})]})]}):Object(o.jsx)($,{})}),Object(o.jsx)("div",{className:"slider__products",style:d,children:a?Object(o.jsx)(o.Fragment,{children:c.map((function(e){return Object(o.jsx)(J,{product:e},e.id)}))}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{})]})})]})}),K="https://mate-academy.github.io/react_phone-catalog/api",Q=function(e){return new Promise((function(t){setTimeout(t,e)}))};function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),Q(300).then((function(){return fetch(K+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var ee=function(e){return Z(e)},te=function(){return ee("/products.json")},ce=function(e){return ee("/products/".concat(e,".json"))},ae=function(e){var t=e.link,c=e.children;return Object(o.jsx)(n.b,{to:t,style:{textDecoration:"none"},children:c})},se=(c(57),function(e){var t=e.title,c=e.description,a=e.category;return Object(o.jsxs)("div",{className:"category",children:[Object(o.jsx)("div",{className:"category__container category__container--".concat(a),children:Object(o.jsx)(n.b,{to:"/".concat(a),className:"category__photo category__photo--".concat(a)})}),Object(o.jsx)(ae,{link:"/".concat(a),children:Object(o.jsx)("h3",{className:"category__title",children:t})}),Object(o.jsx)("span",{className:"category__description",children:c})]})}),ne=(c(58),function(){return Object(o.jsxs)("div",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(o.jsx)("div",{className:"categories__header",children:Object(o.jsx)(G,{title:"Shop by category"})}),Object(o.jsxs)("div",{className:"categories__container",children:[Object(o.jsx)(se,{title:"Mobile phones",description:"95 models",category:"phones"}),Object(o.jsx)(se,{title:"Tablets",description:"24 models",category:"tablets"}),Object(o.jsx)(se,{title:"Accessories",description:"100 models",category:"accessories"})]})]})}),re=[{title:"iphones",link:c.p+"static/media/slider-iphones.7c74e814.png"},{title:"tablets",link:c.p+"static/media/tablets.a91bb4d9.jpg"},{title:"accessories",link:c.p+"static/media/accessories.10ac1ca2.jpg"},{title:"testimg",link:c.p+"static/media/tablets2.164b0b7c.jpg"}],ie=(c(59),function(){var e=Object(b.useState)(-1040),t=Object(P.a)(e,2),c=t[0],a=t[1],s=Object(b.useState)(500),n=Object(P.a)(s,2),r=n[0],i=n[1],l=Object(b.useState)(!1),d=Object(P.a)(l,2),u=d[0],j=d[1],h=Object(b.useState)(0),p=Object(P.a)(h,2),x=p[0],m=p[1],_=Object(b.useState)(re),f=Object(P.a)(_,2),v=f[0],g=f[1],N=Object(b.useRef)(null),y=-1*x,w=Object(b.useMemo)((function(){var e=v.length-2;return x*e*-1}),[x,v]),k=Object(b.useMemo)((function(){return x*(v.length-1)*-1}),[x,v]),S={transform:"translateX(".concat(c,"px)"),transition:"transform ".concat(r,"ms")},C=function(e){j(!0),setTimeout((function(){i(0),a(e)}),500)};return Object(b.useEffect)((function(){var e,t;N.current&&(m(null===(t=N.current)||void 0===t?void 0:t.offsetWidth),e=setInterval((function(){var e,t;(t=null===(e=N.current)||void 0===e?void 0:e.offsetWidth)&&a((function(e){return e-t}))}),5e3));var c=Object(O.a)(v);return c.unshift(v[v.length-1]),c.push(v[0]),g(c),function(){clearInterval(e)}}),[]),Object(b.useEffect)((function(){u&&setTimeout((function(){j(!1),i(500)}),525)}),[u]),Object(b.useEffect)((function(){0===c&&C(w),c===k&&C(y)}),[c]),Object(o.jsxs)("div",{className:"pictures-slider",children:[Object(o.jsx)(X,{width:"32px",height:"400px",direction:"prev",action:function(){a((function(e){return e+x}))},isDisabled:u}),Object(o.jsx)("div",{ref:N,className:"pictures-slider__container",children:Object(o.jsx)("div",{className:"pictures-slider__content",style:S,children:v.map((function(e){return Object(o.jsx)("img",{src:e.link,alt:e.title,className:"pictures-slider__img"},e.link+Math.random())}))})}),Object(o.jsx)(X,{width:"32px",height:"400px",direction:"next",action:function(){a((function(e){return e-x}))},isDisabled:u})]})}),oe=(c(60),function(){var e=Object(b.useState)([]),t=Object(P.a)(e,2),c=t[0],a=t[1],s=Object(b.useState)(!1),n=Object(P.a)(s,2),r=n[0],i=n[1];Object(b.useEffect)((function(){function e(){return(e=Object(E.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,a(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("getProducts error");case 10:return e.prev=10,i(!0),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=function(e){return e.filter((function(e){return e.discount>0})).sort((function(e,t){return e.price*e.discount/100-t.price*t.discount/100}))}(c),d=function(e){return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))}(c);return Object(o.jsxs)("main",{className:"home",children:[Object(o.jsx)("section",{className:"home__pictures",children:Object(o.jsx)(ie,{})}),Object(o.jsx)("section",{className:"home__hot-prices",children:Object(o.jsx)(Y,{title:"Hot prices",products:l,isLoaded:r})}),Object(o.jsx)("section",{className:"home__categories",children:Object(o.jsx)(ne,{})}),Object(o.jsx)("section",{className:"home__brand-new-models",children:Object(o.jsx)(Y,{title:"Brand new models",products:d,isLoaded:r})})]})}),le=(c(61),function(e){var t=e.products,c=e.isLoaded;return Object(o.jsx)("div",{className:"product-list","data-cy":"productList",children:c?Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsx)(J,{product:e},e.id)}))}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{}),Object(o.jsx)(U,{})]})})}),de=function(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(P.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):c.set(a,s)})),c.toString()};c(62);var ue=function(e){var t=e.currentPage,c=e.pagesCount,a=Object(n.d)(),s=Object(P.a)(a,2),r=s[0],i=s[1],l=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,c);return Object(o.jsxs)("ul",{className:"pagination",children:[Object(o.jsx)("li",{children:Object(o.jsx)(X,{"data-cy":"paginationLeft",width:"32px",height:"32px",direction:"prev",action:function(){1!==+t&&i(de(r,{page:"".concat(+t-1)}))},isDisabled:1===+t})}),Object(o.jsx)("ul",{className:"pagination__pages",children:l.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(n.b,{to:{search:de(r,{page:"".concat(e)})},className:I()("pagination__page",{"pagination__page--active":e===+t}),children:e})},e)}))}),Object(o.jsx)("li",{children:Object(o.jsx)(X,{"data-cy":"paginationRight",width:"32px",height:"32px",direction:"next",action:function(){+t!==c&&i(de(r,{page:"".concat(+t+1)}))},isDisabled:+t===c})})]})},je=(c(63),c(64),function(e){var t=e.options,c=e.action,a=e.defaultValue,s=e.title,n=t.find((function(e){return e.value===a}))||t[0],r=Object(b.useState)(!1),i=Object(P.a)(r,2),l=i[0],d=i[1],u=Object(b.useState)(n),j=Object(P.a)(u,2),h=j[0],p=j[1],O={width:"176px"},x=function(){d((function(e){return!e}))},m=function(e){p(e),d(!1),c(e.value)};return Object(o.jsxs)("div",{className:"select",style:O,children:[Object(o.jsx)("span",{className:"select__title",children:s}),Object(o.jsx)("div",{role:"menuitem",tabIndex:0,className:I()("select__selected-value",{"select__selected-value--focus":l}),onClick:x,onKeyDown:x,children:h.title}),l&&Object(o.jsx)("ul",{className:"select__options",style:O,children:t.map((function(e){return Object(o.jsx)("li",{className:"select__option",onClick:function(){return m(e)},onKeyDown:function(){return m(e)},children:e.title},e.value)}))})]})}),be=function(e){var t=e.sort,c=e.perPage,a=e.setSort,s=e.setPage,n=e.children,r=e.totalItems,i=e.page,l=Math.ceil(r/+c),d=r>=5;return Object(o.jsxs)("section",{className:"settings",children:[Object(o.jsxs)("div",{className:"settings__selects",children:[Object(o.jsx)(je,{title:"Sort by",options:[{title:"Newest",value:"age"},{title:"Alphabetically",value:"name"},{title:"Cheapest",value:"price"}],action:a,defaultValue:t}),d&&Object(o.jsx)(je,{title:"Items on page",options:[{title:"4",value:"4"},{title:"8",value:"8"},{title:"16",value:"16"}],action:s,defaultValue:c})]}),n,d&&Object(o.jsx)("div",{className:"settings__paginator",children:Object(o.jsx)(ue,{pagesCount:l,currentPage:i})})]})},he=function(e,t){return e.filter((function(e){return e.type===t}))},pe=(c(65),function(e){var t=e.title,c=e.productType,a=Object(b.useState)([]),s=Object(P.a)(a,2),r=s[0],i=s[1],l=Object(b.useState)(!1),d=Object(P.a)(l,2),u=d[0],j=d[1],h=Object(n.d)(),p=Object(P.a)(h,2),x=p[0],m=p[1],_=w((function(e){return e.query})),f=r.filter((function(e){return function(e){for(var t=_.toLowerCase().split(" "),c=0;c<t.length;c+=1){var a=t[c];if(!e.name.toLowerCase().includes(a))return!1}return!0}(e)})),v=f.length,g=x.get("sort")||"age",N=x.get("perPage")||"4",y=x.get("page")||"1",S=+N*+y-(+N-1),C=+N*+y<=v?+N*+y:v;Object(b.useEffect)((function(){function e(){return(e=Object(E.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,a=he(t,c),i(a),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("getProducts error");case 11:return e.prev=11,j(!0),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(o.jsxs)("main",{className:"catalog","data-cy":"productList",children:[Object(o.jsx)("div",{className:"catalog__header",children:Object(o.jsx)(G,{title:t})}),u&&Object(o.jsx)("span",{className:"catalog__count",children:"".concat(r.length," models")}),u&&0===r.length?Object(o.jsx)(k,{children:"".concat(t," not found")}):Object(o.jsx)(o.Fragment,{children:u&&0===v?Object(o.jsx)(k,{children:"No search results"}):Object(o.jsx)(be,{sort:g,perPage:N,page:y,totalItems:v,setSort:function(e){m(de(x,{sort:e}))},setPage:function(e){m(de(x,{perPage:e,page:null}))},children:Object(o.jsx)("div",{className:"catalog__product-list",children:Object(o.jsx)(le,{products:function(){switch(g){case"name":return Object(O.a)(f).sort((function(e,t){return e.name.localeCompare(t.name)}));case"price":return Object(O.a)(f).sort((function(e,t){return e.price-t.price}));default:return Object(O.a)(f).sort((function(e,t){return e.age-t.age}))}}().slice(S-1,C),isLoaded:u})})})})]})}),Oe=(c(66),function(e){var t=e.currentPage,c=e.productType,a=void 0===c?null:c,s={phone:"phones",tablet:"tablets",accessory:"accessories"};return Object(o.jsxs)("div",{className:"breadcrumbs",children:[Object(o.jsx)(n.b,{to:"/","aria-label":"home-link",children:Object(o.jsx)("span",{className:"breadcrumbs__home"})}),a&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"breadcrumbs__arrow"}),Object(o.jsx)(n.b,{to:"/".concat(s[a]),className:"breadcrumbs__link",children:s[a]})]}),Object(o.jsx)("span",{className:"breadcrumbs__arrow"}),Object(o.jsx)("span",{className:"breadcrumbs__link",children:t})]})}),xe=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Oe,{currentPage:"Phones",productType:null}),Object(o.jsx)(pe,{title:"Mobile phones",productType:"phone"})]})},me=(c(67),function(e){var t=e.images,c=Object(b.useState)(null===t||void 0===t?void 0:t.slice(0,1).join("")),a=Object(P.a)(c,2),s=a[0],n=a[1];return Object(o.jsxs)("div",{className:"product-images",children:[Object(o.jsx)("div",{className:"product-images__container",children:null===t||void 0===t?void 0:t.map((function(e){return Object(o.jsx)("button",{type:"button","aria-label":"change-img-button",className:"product-images__picture",style:{backgroundImage:"url(".concat(e,")")},onClick:function(){return function(e){e!==s&&n(e)}(e)}},e)}))}),Object(o.jsx)("img",{src:s,alt:"product",className:"product-details__selected-picture"})]})}),_e=(c(68),function(e){var t=e.product,c=e.productDetails,a=e.availableColors,s=e.availableCapacity,n=(null===t||void 0===t?void 0:t.price)&&function(e){return e-e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/100}(null===t||void 0===t?void 0:t.price,null===t||void 0===t?void 0:t.discount);return Object(o.jsxs)("div",{className:"product-details",children:[Object(o.jsx)(Oe,{currentPage:(null===c||void 0===c?void 0:c.name)||"",productType:(null===t||void 0===t?void 0:t.type)||null}),Object(o.jsx)(h,{}),Object(o.jsx)("h1",{className:"product-details__title",children:null===c||void 0===c?void 0:c.name}),Object(o.jsxs)("div",{className:"product-details__content",children:[Object(o.jsx)("div",{className:"product-details_img-container",children:(null===c||void 0===c?void 0:c.images)&&Object(o.jsx)(me,{images:c.images})}),Object(o.jsxs)("div",{className:"product-details__info-container",children:[Object(o.jsxs)("div",{className:"product-details__info",children:[Object(o.jsxs)("div",{className:"product-details__colors-container",children:[Object(o.jsx)("span",{className:"product-details__label",children:"Available colors"}),Object(o.jsx)("div",{className:"product-details__colors",children:a.map((function(e){return Object(o.jsx)("div",{className:"product-details__color",style:{backgroundColor:e}},e)}))})]}),Object(o.jsxs)("div",{className:"product-details__capacity-container",children:[Object(o.jsx)("span",{className:"product-details__label",children:"Select capacity"}),Object(o.jsx)("div",{className:"product-details__capacity-buttons",children:s.map((function(e){return Object(o.jsx)("button",{type:"button",className:"product-details__capacity",children:"".concat(e," GB")},e)}))})]}),Object(o.jsxs)("div",{className:"product-details__price",children:[Object(o.jsx)("span",{className:"product-details__total-price",children:"$".concat(n)}),Object(o.jsx)("span",{className:"product-details__full-price",children:"$".concat(null===t||void 0===t?void 0:t.price)})]}),Object(o.jsx)("div",{className:"product-details__actions",children:void 0!==t&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(q,{product:t,width:"263px",height:"48px"}),Object(o.jsx)(B,{product:t,width:"48px",height:"48px"})]})}),Object(o.jsxs)("div",{className:"product-details__short-info-container",children:[Object(o.jsxs)("div",{className:"product-details__short-info",children:[Object(o.jsx)("span",{className:"product-details__label",children:"Screen"}),Object(o.jsx)("span",{className:"product-details__value",children:null===c||void 0===c?void 0:c.display.screenSize})]}),Object(o.jsxs)("div",{className:"product-details__short-info",children:[Object(o.jsx)("span",{className:"product-details__label",children:"Resolution"}),Object(o.jsx)("span",{className:"product-details__value",children:null===c||void 0===c?void 0:c.display.screenResolution})]}),Object(o.jsxs)("div",{className:"product-details__short-info",children:[Object(o.jsx)("span",{className:"product-details__label",children:"RAM"}),Object(o.jsx)("span",{className:"product-details__value",children:null===c||void 0===c?void 0:c.storage.ram})]}),Object(o.jsxs)("div",{className:"product-details__short-info",children:[Object(o.jsx)("span",{className:"product-details__label",children:"Weight"}),Object(o.jsx)("span",{className:"product-details__value",children:null===c||void 0===c?void 0:c.sizeAndWeight.weight})]})]})]}),Object(o.jsx)("div",{className:"product-details__id",children:"ID: ".concat(null===c||void 0===c?void 0:c.id)})]})]}),Object(o.jsxs)("div",{className:"product-details__additional",children:[Object(o.jsxs)("div",{"data-cy":"productDescription",className:"product-details__about",children:[Object(o.jsx)("h2",{className:"product-details__additional-header",children:"About"}),Object(o.jsx)("p",{className:"product-details__about-description",children:null===c||void 0===c?void 0:c.description})]}),Object(o.jsxs)("div",{className:"product-details__tech",children:[Object(o.jsx)("h2",{className:"product-details__additional-header",children:"Tech specs"}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Screen"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.display.screenSize})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Resolution"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.display.screenResolution})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"RAM"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.storage.ram})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Weight"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.sizeAndWeight.weight})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Camera"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.camera.primary})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Bluetooth"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.connectivity.bluetooth})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"USB"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.hardware.usb})]}),Object(o.jsxs)("div",{className:"product-details__tech-container",children:[Object(o.jsx)("span",{className:"product-details__tech-label",children:"Wi-Fi"}),Object(o.jsx)("span",{className:"product-details__tech-description",children:null===c||void 0===c?void 0:c.connectivity.wifi})]})]})]})]})});var fe=function(e){for(var t=[],c=e.length-1,a=function(a){var s=function(e,t){var c=e-.5+Math.random()*(t-e+1);return Math.round(c)}(0,c),n=e[s];t.some((function(e){return e===n}))||t.push(n)},s=0;s<=10;s+=1)a();return t},ve=(c(69),function(){var e=Object(i.n)().productId,t=Object(b.useState)([]),c=Object(P.a)(t,2),a=c[0],s=c[1],n=Object(b.useState)(null),r=Object(P.a)(n,2),l=r[0],d=r[1],u=Object(b.useState)(!1),h=Object(P.a)(u,2),p=h[0],O=h[1],x=Object(b.useState)(!1),m=Object(P.a)(x,2),_=m[0],f=m[1],v=a.find((function(t){return t.id===e})),g=fe(a);return Object(b.useEffect)((function(){function t(){return(t=Object(E.a)(D.a.mark((function t(){var c,a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"string"!==typeof e){t.next=10;break}return t.next=4,te();case 4:return c=t.sent,t.next=7,ce(e);case 7:a=t.sent,s(c),d(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),f(!0);case 15:return t.prev=15,O(!0),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(o.jsx)("div",{className:"details-page",children:p?Object(o.jsx)(o.Fragment,{children:_?Object(o.jsx)(k,{children:"Product details not found"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(_e,{product:v,productDetails:l,availableColors:["#FCDBC1","#5F7170","#4C4C4C","#F0F0F0"],availableCapacity:["64","256","512"]}),Object(o.jsx)(Y,{title:"You may also like",products:g,isLoaded:p})]})}):Object(o.jsx)("div",{className:"details-page__loader",children:Object(o.jsx)(j.a,{type:"bubbles",color:"#313237"})})})}),ge=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Oe,{currentPage:"Tablets",productType:null}),Object(o.jsx)(pe,{title:"Tablets",productType:"tablet"})]})},Ne=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Oe,{currentPage:"Accessories",productType:null}),Object(o.jsx)(pe,{title:"Accessories",productType:"accessory"})]})},ye=(c(70),function(e){var t=e.pages,c=Object(i.j)();return Object(o.jsx)("nav",{className:"nav",children:Object(o.jsx)("ul",{className:"nav__list",children:t.map((function(e){return Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"/"===e.link?e.link:{pathname:e.link,search:c.search},className:function(e){var t=e.isActive;return I()("nav__link",{"nav__link--active":t})},children:e.title})},e.link)}))})})}),we=(c(71),c(32)),ke=(c(74),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"query/CHANGE"===t.type?t.payload:e}),Se=function(e){return{type:"query/CHANGE",payload:e}},Ce=function(e){var t=e.currentPage,c=Object(n.d)(),a=Object(P.a)(c,2),s=a[0],r=a[1],i=Object(b.useState)(s.get("query")||""),l=Object(P.a)(i,2),d=l[0],u=l[1],j=T(),h=Object(b.useCallback)(Object(we.debounce)((function(e){j(Se(e))}),500),[]),p=function(e){j(Se(e))};Object(b.useEffect)((function(){p(d)}),[]),Object(b.useEffect)((function(){h(d)}),[d]);var O=function(e){0===e.length?s.delete("query"):s.set("query",e),r(s)};return Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("input",{type:"text",placeholder:"Search in ".concat(t,"..."),className:"search__input",value:d,onChange:function(e){O(e.target.value),u(e.target.value)}}),Object(o.jsx)("button",{"data-cy":"searchDelete",type:"button","aria-label":"search__button",className:I()("search__button",{"search__button--clear":0!==d.length}),onClick:function(){u(""),O(""),p("")}})]})},Ee=function(){var e=w((function(e){return e.cart})),t=w((function(e){return e.favorites})),c=Object(i.j)().pathname.replace("/","");return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsxs)("div",{className:"header__nav",children:[Object(o.jsx)(l,{}),Object(o.jsx)(ye,{pages:[{title:"Home",link:"/"},{title:"Phones",link:"/phones"},{title:"Tablets",link:"/tablets"},{title:"Accessories",link:"/accessories"}]})]}),Object(o.jsxs)("div",{className:"header__icons",children:[["phones","tablets","accessories","favorites"].includes(c)&&Object(o.jsx)(Ce,{currentPage:c}),Object(o.jsx)(n.c,{to:"/favorites",className:function(e){var t=e.isActive;return I()("header__favorites",{"header__favorites--active":t})},children:0!==t.length&&Object(o.jsx)("span",{className:"header__favorites-quantity",children:t.length})}),Object(o.jsx)(n.c,{to:"/cart",className:function(e){var t=e.isActive;return I()("header__cart",{"header__cart--active":t})},children:0!==e.length&&Object(o.jsx)("span",{className:"header__cart-quantity",children:e.length})})]})]})},Pe=(c(75),function(){var e=w((function(e){return e.favorites}));return Object(o.jsxs)("div",{className:"favourites",children:[Object(o.jsx)(Oe,{currentPage:"Favourites",productType:null}),Object(o.jsx)("h1",{className:"favourites__title",children:"Favourites"}),0===e.length?Object(o.jsx)(k,{children:"Your favourites is empty"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"favourites__count",children:"".concat(e.length," items")}),Object(o.jsx)(le,{products:e,isLoaded:!0})]})]})}),Ae=function(){return Object(o.jsx)(k,{children:"Not found page"})},De=function(){return Object(o.jsxs)("div",{className:"App page",children:[Object(o.jsx)(Ee,{}),Object(o.jsx)("div",{className:"content-wrapper",children:Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/",element:Object(o.jsx)(oe,{})}),Object(o.jsx)(i.a,{path:"/phones",element:Object(o.jsx)(xe,{})}),Object(o.jsx)(i.a,{path:"/phones/:productId",element:Object(o.jsx)(ve,{})}),Object(o.jsx)(i.a,{path:"/tablets",element:Object(o.jsx)(ge,{})}),Object(o.jsx)(i.a,{path:"/tablets/:productId",element:Object(o.jsx)(ve,{})}),Object(o.jsx)(i.a,{path:"/accessories",element:Object(o.jsx)(Ne,{})}),Object(o.jsx)(i.a,{path:"/accessories/:productId",element:Object(o.jsx)(ve,{})}),Object(o.jsx)(i.a,{path:"/cart",element:Object(o.jsx)(C,{})}),Object(o.jsx)(i.a,{path:"/favorites",element:Object(o.jsx)(Pe,{})}),Object(o.jsx)(i.a,{path:"*",element:Object(o.jsx)(Ae,{})})]})}),Object(o.jsx)(d,{})]})},Fe=c(29),Ie=Object(Fe.a)({cart:g,favorites:W,query:ke}),Te=Object(Fe.b)(Ie);s.a.render(Object(o.jsx)(r.a,{store:Te,children:Object(o.jsx)(n.a,{children:Object(o.jsx)(De,{})})}),document.getElementById("root"))}]),[[76,1,2]]]);
//# sourceMappingURL=main.12196998.chunk.js.map